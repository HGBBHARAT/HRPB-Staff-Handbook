<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRPB | Staff Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');
        
        :root {
            --brand-tan: #D4A373; 
            --brand-brown: #3E2723;
            --glass: rgba(15, 23, 42, 0.85);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at top right, #1a1a1a, #070707);
            color: #e2e8f0;
            overflow: hidden;
        }

        .glass-panel {
            background: var(--glass);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(212, 163, 115, 0.15);
            border-radius: 12px;
        }

        .nav-btn {
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        .nav-btn:hover, .nav-btn.active {
            background: rgba(212, 163, 115, 0.08);
            border-left-color: var(--brand-tan);
            color: var(--brand-tan);
        }

        .hidden-section { display: none; }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--brand-tan); }

        #chat-box {
            display: none;
            width: 350px;
            height: 450px;
            flex-direction: column;
            bottom: 80px;
            right: 20px;
            position: fixed;
            z-index: 1000;
        }
    </style>
</head>
<body class="flex h-screen w-screen">

<div id="login-screen" class="fixed inset-0 z-[2000] bg-[#0a0a0a] flex items-center justify-center p-6">
    <div class="glass-panel p-10 text-center max-w-md w-full border-b-4 border-b-[#D4A373] shadow-2xl">
        <img src="https://i.postimg.cc/mD7XF1h9/b8b432bd184c0baac9e9e3a638c76cf9.png" class="w-28 mx-auto mb-6" alt="HRPB Logo">
        <h1 class="text-xl font-black mb-1 tracking-widest text-[#D4A373]">STAFF AUTHENTICATION</h1>
        <p class="text-gray-500 text-[10px] uppercase tracking-[0.2em] mb-8">High Rock Park Border | Est. 2025</p>
        <button onclick="handleLogin()" class="w-full bg-[#5865F2] hover:bg-[#4752C4] text-white text-xs font-bold py-4 rounded-md flex items-center justify-center gap-3 transition-all hover:shadow-[0_0_20px_rgba(88,101,242,0.4)]">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"><path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-0.031-0.03z"/></svg>
            AUTHORIZE WITH DISCORD
        </button>
    </div>
</div>

<nav class="w-64 border-r border-white/5 p-6 flex flex-col glass-panel m-2">
    <div class="mb-10 text-center">
        <img src="https://i.postimg.cc/mD7XF1h9/b8b432bd184c0baac9e9e3a638c76cf9.png" class="w-16 mx-auto mb-4" alt="Logo">
        <h2 class="text-[10px] font-black tracking-[0.3em] text-[#D4A373]">HRPB DASHBOARD</h2>
    </div>
    
    <div class="flex flex-col gap-1">
        <button onclick="showSection('staff-rules')" class="nav-btn active p-3 rounded text-left text-[11px] font-bold uppercase tracking-wider">Staff Handbook</button>
        <button onclick="showSection('game-rules')" class="nav-btn p-3 rounded text-left text-[11px] font-bold uppercase tracking-wider">In-Game Rules</button>
        <button onclick="showSection('coc')" class="nav-btn p-3 rounded text-left text-[11px] font-bold uppercase tracking-wider">Chain of Command</button>
    </div>
    
    <div class="mt-auto pt-6 border-t border-white/5">
        <div class="flex items-center gap-3">
            <div class="w-8 h-8 rounded-full bg-[#D4A373]/20 flex items-center justify-center text-[#D4A373] text-xs font-bold">ST</div>
            <div>
                <div class="text-[10px] font-bold uppercase text-[#D4A373]">Authorized Staff</div>
                <button onclick="logout()" class="text-[9px] text-gray-500 hover:text-red-400 uppercase tracking-tighter">Sign Out System</button>
            </div>
        </div>
    </div>
</nav>

<main class="flex-1 p-8 overflow-y-auto">
    
    <div id="staff-rules" class="content-section">
        <div class="mb-8 border-b border-[#D4A373]/30 pb-4">
            <h1 class="text-3xl font-black tracking-tighter text-[#D4A373]">STAFF HANDBOOK</h1>
            <p class="text-xs text-gray-500 italic">Core Conduct & Administrative Protocols</p>
        </div>
        <div class="grid gap-3" id="staff-rules-container">
            </div>
    </div>

    <div id="game-rules" class="content-section hidden-section">
        <div class="mb-8 border-b border-[#D4A373]/30 pb-4">
            <h1 class="text-3xl font-black tracking-tighter text-[#D4A373]">IN-GAME REGULATIONS</h1>
            <p class="text-xs text-gray-500 italic">Server-wide rules for players and staff</p>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-4" id="game-rules-container">
            </div>
    </div>

    <div id="coc" class="content-section hidden-section">
        <div class="mb-8 border-b border-[#D4A373]/30 pb-4 text-center">
            <h1 class="text-3xl font-black tracking-tighter text-[#D4A373]">CHAIN OF COMMAND</h1>
            <p class="text-[10px] text-gray-500 uppercase tracking-widest mt-1">Structure of Ranks & Hierarchical Limits</p>
        </div>
        <div class="max-w-3xl mx-auto space-y-4" id="coc-container">
            </div>
    </div>

</main>

<div id="chat-box" class="glass-panel shadow-2xl overflow-hidden flex flex-col border-b-2 border-b-[#D4A373]">
    <div class="p-4 bg-[#D4A373] flex justify-between items-center">
        <span class="text-[10px] font-black text-black tracking-widest uppercase italic">Gemini Handbook AI</span>
        <button onclick="toggleAI()" class="text-black hover:opacity-50 font-bold">&times;</button>
    </div>
    <div id="chat-content" class="flex-1 p-4 overflow-y-auto text-[11px] space-y-4 bg-black/40">
        <div class="p-3 rounded-lg bg-[#D4A373]/10 border border-[#D4A373]/20 text-gray-300">
            Authorized. I am restricted to providing <strong>HRPB Rules</strong> and <strong>Basic Math</strong>. How can I assist your duties today?
        </div>
    </div>
    <div class="p-3 bg-black/60">
        <input type="text" id="ai-input" onkeydown="if(event.key==='Enter') askAI()" placeholder="Search handbook or calculate..." class="w-full bg-white/5 border border-white/10 rounded p-3 text-[11px] focus:outline-none focus:border-[#D4A373] text-white">
    </div>
</div>

<button onclick="toggleAI()" class="fixed bottom-6 right-6 w-14 h-14 bg-[#D4A373] rounded-full shadow-[0_0_20px_rgba(212,163,115,0.3)] flex items-center justify-center hover:scale-105 transition-all z-[1001]">
    <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
</button>

<script>
    // --- DATA ---
    const staffRules = [
        "Utilize spelling, punctuation and grammar at all times.",
        "Maintain professionalism and respect for others.",
        "Do not abuse :h and :m commands (Announcements only).",
        "Use four or more letter commands (e.g. :view Jydx).",
        "Must respond to mod calls; neglect is duty failure.",
        "Kill-logs are NOT proof. Only clips/screenshots accepted.",
        "Always use correct uniforms and liveries.",
        "Knowledge of all staff documents is mandatory.",
        "Must have correct callsign (Rank-Number).",
        "NO AFK or RP while on duty. Moderate only.",
        "Maintain a safe environment for all members.",
        "Zero tolerance for disrespect (logged warnings).",
        "Use common sense; if it feels wrong, don't do it.",
        "Command abuse results in immediate termination.",
        "Commands off duty require specific role.",
        "Kick/Ban requires 7+ letters of username."
    ];

    const inGameRules = [
        { r: "Rule 1 | FRP", d: "All roleplays must withhold a realistic standard." },
        { r: "Rule 2 | VDM", d: "Vehicle deathmatch is not allowed. No shooting cars without reason." },
        { r: "Rule 3 | RDM", d: "Random Deathmatch is not allowed. Valid reason required to kill." },
        { r: "Rule 4 | Gun Motion", d: "Use 'grabs gun' for weapons (except pistol/taser) against LEO." },
        { r: "Rule 5 | Realistic Avatars", d: "No morphs. Must resemble real life." },
        { r: "Rule 6 | New Life Rule", d: "Once dead/arrested, that character's memory is gone." },
        { r: "Rule 7 | Team Creation", d: "CIA/FBI creation forbidden; use Discord applications." },
        { r: "Rule 8 | Realistic Driving", d: "Drive safely and roleplay all crashes." },
        { r: "Rule 9 | Fear RP", d: "Must comply if a weapon is pointed at you." },
        { r: "Rule 10 | Detain Requests", d: "Must accept. Call staff AFTER if unjustified." },
        { r: "Rule 11 | Pointless Open Carry", d: "Carrying guns for attention is forbidden." },
        { r: "Rule 12 | Cop Baiting", d: "No pointless pursuits or police attention seeking." },
        { r: "Rule 13 | Robberies", d: "5 minute wait time between robberies. Bank requires staff permission." },
        { r: "Rule 14 | RP Interruption", d: "Do not interfere with ongoing scenes." },
        { r: "Rule 15 | Priorities", d: "No criminal activity during an active priority." },
        { r: "Rule 16 | Pointless Pursuits", d: "Must have a valid reason to run from police." },
        { r: "Rule 17 | Group Limits", d: "Max 4 for crimes; Max 3 for Jewelry Store." },
        { r: "Rule 18 | SWAT Gear", d: "Only SWAT-trained members may use SWAT items." },
        { r: "Rule 19 | VC", d: "If server is VC-startup, Discord VC is mandatory." },
        { r: "Rule 20 | Safe Areas", d: "No crimes at Fire Station, LEO spawns, or DOT." },
        { r: "Rule 21 | Uniforms", d: "Official liveries and uniforms only." },
        { r: "Rule 22 | Staff Cars", d: "Must yield to staff cars with lights active." },
        { r: "Rule 23 | Display Names", d: "Must be a character name. No 'Staff' claims." },
        { r: "Rule 24 | Respawning", d: "Wait 2 minutes for EMS. Call mod for heal if LEO involved." }
    ];

    const cocData = [
        { team: "Ownership Team", ranks: ["Founder", "Owner [1]", "Co-Owner [3]", "Trial Ownership [2]"], color: "border-[#D4A373]" },
        { team: "Board of Directors", ranks: ["Director of Staff Team [1]", "Deputy Director [2]", "Assistant Director [3]"], color: "border-gray-400" },
        { team: "Executive Team", ranks: ["Senior Executive [4]", "Junior Executive [4]"], color: "border-blue-400" },
        { team: "Leadership Team", ranks: ["Senior Leadership [4]", "Junior Leadership [4]"], color: "border-green-400" },
        { team: "Supervisory Team", ranks: ["Lead Supervisor [5]", "Senior Supervisor [5]", "Junior Supervisor [6]"], color: "border-red-400" }
    ];

    // --- INITIALIZATION ---
    window.onload = () => {
        if(localStorage.getItem('hrpb_session') === 'active') document.getElementById('login-screen').style.display = 'none';
        
        // Load Staff Rules
        const staffCont = document.getElementById('staff-rules-container');
        staffRules.forEach((rule, i) => {
            staffCont.innerHTML += `
                <div class="glass-panel p-4 flex gap-4 items-center group hover:bg-[#D4A373]/5 transition-all">
                    <span class="text-[10px] font-black text-[#D4A373]">RULE_${i+1}</span>
                    <p class="text-[11px] font-medium text-gray-300">${rule}</p>
                </div>`;
        });

        // Load Game Rules
        const gameCont = document.getElementById('game-rules-container');
        inGameRules.forEach(rule => {
            gameCont.innerHTML += `
                <div class="glass-panel p-5 border-l-2 border-l-[#D4A373] hover:translate-x-1 transition-transform">
                    <h3 class="text-[11px] font-black text-[#D4A373] mb-1 uppercase tracking-tighter">${rule.r}</h3>
                    <p class="text-[10px] text-gray-400 leading-relaxed">${rule.d}</p>
                </div>`;
        });

        // Load CoC
        const cocCont = document.getElementById('coc-container');
        cocData.forEach(tier => {
            let rankList = tier.ranks.map(r => `<li class="text-[11px] py-1 border-b border-white/5 last:border-0">${r}</li>`).join('');
            cocCont.innerHTML += `
                <div class="glass-panel p-4 border-l-4 ${tier.color}">
                    <h4 class="text-[9px] font-black uppercase text-gray-500 mb-3 tracking-[0.2em]">${tier.team}</h4>
                    <ul class="text-gray-300">${rankList}</ul>
                </div>`;
        });
    };

    // --- LOGIC ---
    function handleLogin() {
        localStorage.setItem('hrpb_session', 'active');
        document.getElementById('login-screen').classList.add('opacity-0');
        setTimeout(() => document.getElementById('login-screen').style.display = 'none', 500);
    }

    function logout() {
        localStorage.removeItem('hrpb_session');
        location.reload();
    }

    function showSection(id) {
        document.querySelectorAll('.content-section').forEach(s => s.classList.add('hidden-section'));
        document.getElementById(id).classList.remove('hidden-section');
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
    }

    function toggleAI() {
        const box = document.getElementById('chat-box');
        box.style.display = (box.style.display === 'flex') ? 'none' : 'flex';
    }

    function askAI() {
        const input = document.getElementById('ai-input');
        const content = document.getElementById('chat-content');
        const query = input.value.toLowerCase();
        
        content.innerHTML += `<div class="text-right text-[#D4A373] font-bold">STAFF: ${input.value}</div>`;
        
        let response = "I am restricted to HRPB handbook data and basic math only. Please rephrase or consult a High Rank.";
        
        // Math Engine
        try {
            if (/^[0-9+\-*/().\s]+$/.test(query)) {
                const res = eval(query);
                if (typeof res === 'number') response = `CALCULATION_RESULT: ${res}`;
            }
        } catch(e) {}

        // Rule Search Engine
        inGameRules.forEach(rule => {
            if(query.includes(rule.r.toLowerCase().split('|')[0].trim()) || query.includes(rule.r.toLowerCase().split('|')[1].trim())) {
                response = `[SYSTEM_MATCH] ${rule.r}: ${rule.d}`;
            }
        });
        
        if(query.includes("grammar")) response = "Staff Rule: Utilize spelling, punctuation and grammar at all times.";
        if(query.includes("afk")) response = "Staff Rule 10: No AFK or RP while on duty. Moderate only.";
        if(query.includes("rdm")) response = "Rule 3: Random Deathmatch is forbidden. Valid reason required to kill.";

        content.innerHTML += `<div class="text-left text-white bg-white/5 p-3 rounded-lg border border-white/5">GEMINI: ${response}</div>`;
        input.value = '';
        content.scrollTop = content.scrollHeight;
    }
</script>
</body>
</html>
